таймлайн



таймлайн плагин который осуществляет нагладную удобную навигацию по материалам определенной темы на основе временной шкалы

визуально состоит из двух частей

1. горизонтальная "линейка" с временной шкалой

2. список материалов


1.  "линейка" показывает динамику количества материалов от даты.
	есть 3 масштаба Месяц, Неделя, День.
	реализовано js плагином jquery.flot.js который генерит элемент canvas с данными
    у нас на входе - массив из дат и количество материалов по каждой дате
















2.  список при начальной загрузке предоставляет первые 20 материалов по теме.
	остальное подгружается по событиям:
	скроллинг страницы до материала
	клик на дате материалы к которой отсутствуют в ленте


	конструткоры


	StoryTimeline - инициализирует и собирает график таймлайна и список статей
	обеспечивает из взаимодействие через

	методы -

	"get"

	"nextArticleByTimestamp"

	"scrollEvents"

	"update"
		"header" - обновляет положение хедера таймлайна - прибивая его при скроле position:fixed к верху страницы
		"objects" - обновляет активную статью в замисимости от скрола страницы
		"upload" - инициирует загрузку более старых статей и запись их в "data.articles"

	"statistic"
		"upload" --
		"redraw"  - раньше перерисовывал график в canvas смещая его на отрезки влего и вправо если актуальная статья не попадала в текущий отрезок
		сейчас не используется




	TimelineNavigator -

	методы -

	"init" -

	"load" -

	"plotInit" - рисует сам график время-количество статей с помощью flot-плагина

	"assembly"  готовит массив всех значений

	"assemblyTempData" готовит массив для текущего положения и отрисовки




	ArticleListTimeline -


	методы -

	"init"

	"data"

		"grouping"

		"merge"

	"item"

		"get"  - получает предудущий и следующий материал из

		"addEvents" - добавляет эвент для проигрывания видео ролика если есть в статье

		"month"

		"day"

		"article"

	"load"











